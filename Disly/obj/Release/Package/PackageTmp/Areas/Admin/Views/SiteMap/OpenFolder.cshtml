@model SiteMapViewModel
<div>
    <div id="TreeBranch" class="TreeBranch Sortable ui-sortable">
        @if (Model.List.Count() > 0)
        {
            foreach (cmsSiteMapModel Item in Model.List)
            {
                <div class="TreeItem ui-sortable-handle" data-id="@Item.id">
                    <div class="TreeLink">
                        @if (@Item.Type == "folder")
                        {
                            <a title="Добавить элемент в эту папку" class="treeBtn New" href="/admin/SiteMap/create/@Guid.NewGuid()?path=@Item.Path@Item.Alias/"></a>
                            <span title="/admin/SiteMap/OpenFolder?path=@Item.Path@Item.Alias/" class="treeIcon @Item.Type"></span>                           

                            @Html.ActionLink(@Item.Title, "Edit", new { area = "Admin", controller = "sitemap", id = @Item.id }, new { @class = "treeUrl" })
                        }
                        else
                        {
                            <span class="treeIcon @Item.Type"></span>                        
                            @Html.ActionLink(@Item.Title, "Edit", new { area = "Admin", controller = "sitemap", id = @Item.id }, new { @class = "treeUrl" })
                        }

                    </div>
                </div>
            }

        }

    </div>
</div>


