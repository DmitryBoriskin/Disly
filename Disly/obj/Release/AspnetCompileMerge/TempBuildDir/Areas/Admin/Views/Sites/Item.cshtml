@model SitesViewModel

@Html.Partial("Partial/Confirm")
@Html.Partial("Partial/Frame")
@using (Html.BeginForm())
{
    <div id="Buttons">
        @if (ViewBag.ActionName == "create")
        {
            if (Model.UserResolution.Change)
            {
                <button type="submit" name="action" value="create-btn" class="BtnCreate">Сохранить</button>
            }
            <button type="submit" name="action" value="cancel-btn" class="BtnCancel">Закрыть</button>
        }
        else
        {
            if (Model.UserResolution.Change)
            {
                <button type="submit" name="action" value="update-btn" class="BtnSave">Сохранить</button>
            }
            <button type="submit" name="action" value="cancel-btn" class="BtnCancel">Закрыть</button>
            if (Model.UserResolution.Delete)
            {
                <button type="submit" name="action" value="delete-btn" class="BtnDelete">Удалить</button>
            }
        }
    </div>

        @* Содержимое страницы *@
        <div id="Content">
            <div id="TitleBlock">@ViewBag.Title</div>
            @Html.ValidationSummary(false, "", new { @class = "alert alert-danger" })
            <div class="row">
                <div class="col-xs-8">
                    @Html.TextBoxFor(m => Model.Site.C_Name, new { @class = "uc_input", @required = "", @title = "Название организации", @placeholder = "Название организации", @MaxLength = "512", @data_help = "Наименование организации." })
                </div>
                <div class="col-xs-4">
                    @Html.TextBoxFor(m => Model.Site.C_Domain, new { @class = "uc_input", @required = "", @title = "Название сайта", @placeholder = "Название сайта", @MaxLength = "64", @data_help = "Название сайта в адресной строке." })    
                </div>
            </div>

            <div class="GroupBlock Rules Open" title="Контакты">
                @Html.TextBoxFor(m => Model.Site.C_Adress, new { @class = "uc_input", @title = "Адрес организации", @placeholder = "Адрес организации", @MaxLength = "512" })
                @Html.TextBoxFor(m => Model.Site.C_Phone, new { @class = "uc_input", @title = "Телефон организации", @placeholder = "Телефон организации", @MaxLength = "64" })
                @Html.TextBoxFor(m => Model.Site.C_Fax, new { @class = "uc_input", @title = "Факс", @placeholder = "Факс", @MaxLength = "64" })
                @Html.TextBoxFor(m => Model.Site.C_Email, new { @class = "uc_input", @title = "Адрес Email", @placeholder = "Адрес Email", @MaxLength = "64" })
                @Html.TextBoxFor(m => Model.Site.C_Site, new { @class = "uc_input", @title = "Адрес сайта", @placeholder = "Адрес сайта", @MaxLength = "128" })
                @Html.TextBoxFor(m => Model.Site.C_Worktime, new { @class = "uc_input", @title = "Режим работы", @placeholder = "Режим работы", @MaxLength = "512" })
                @Html.TextAreaFor(m => Model.Site.C_Scripts, new { @class = "uc_input", @title = "Подключаемые скрипты", @placeholder = "Подключаемые скрипты", @rows = "6" })
            </div>
        </div>
        @* //Содержимое страницы *@

        @* Блок DopInfo *@
        <div id="DopInfo">
            <div class="GroupBlock Rules Open" title="Настройки администратора">
                @Html.TextBoxFor(m => Model.Site.C_AdmEmail, new { @class = "uc_input", @title = "Почта администратора", @placeholder = "Почта администратора", @MaxLength = "64" })
                @Html.TextBoxFor(m => Model.Site.C_AdmPhone, new { @class = "uc_input", @title = "Телефон администратора", @placeholder = "Телефон администратора", @MaxLength = "64" })
            </div>
            @if (ViewBag.ActionName != "create")
            {
                @Html.ActionLink("Доменные имена", "domains", "sites", new { @siteId = Model.Site.C_Domain }, new { @id = "Domains", @class = "Button PopUpFrame icon-link-1 ", @data_class = "Domains", @title = "Доменные имена" })
                @Html.ActionLink("Журнал изменений", "log", "services", new { @id = Model.Site.Id }, new { @id = "LogLists", @class = "Button PopUpFrame icon-archive", @data_class = "LogList", @title = "Журнал изменений" })
            }
        </div>
        @* // Блок DopInfo *@
    
    
    if (ViewBag.Message != null)
    {
        @Html.Partial("Partial/modal")
    }
}
